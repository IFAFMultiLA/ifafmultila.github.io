<!DOCTYPE html>
<html  lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1"><meta name="viewport" content="width=device-width, initial-scale=1" />

      <title>Creating learning applications</title>
    
          <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
          <link rel="stylesheet" href="_static/theme.css " type="text/css" />
          <link rel="stylesheet" href="_static/custom.css" type="text/css" />
      
      <!-- sphinx script_files -->
        <script src="_static/documentation_options.js?v=5929fcd5"></script>
        <script src="_static/doctools.js?v=888ff710"></script>
        <script src="_static/sphinx_highlight.js?v=dc90522c"></script>

      
      <!-- bundled in js (rollup iife) -->
      <!-- <script src="_static/theme-vendors.js"></script> -->
      <script src="_static/theme.js" defer></script>
    
  <link rel="index" title="Index" href="genindex.html" />
  <link rel="search" title="Search" href="search.html" />
  <link rel="next" title="Hosting learning applications and the web API" href="serversetup.html" />
  <link rel="prev" title="MultiLA software platform" href="index.html" /> 
  </head>

  <body>
    <div id="app">
    <div class="theme-container" :class="pageClasses"><navbar @toggle-sidebar="toggleSidebar">
  <router-link to="index.html" class="home-link">
    
      <span class="site-name">MultiLA software platform</span>
    
  </router-link>

  <div class="links">
    <navlinks class="can-hide">



    </navlinks>
  </div>
</navbar>

      
      <div class="sidebar-mask" @click="toggleSidebar(false)">
      </div>
        <sidebar @toggle-sidebar="toggleSidebar">
          
          <navlinks>
            



            
          </navlinks><div id="searchbox" class="searchbox" role="search">
  <div class="caption"><span class="caption-text">Quick search</span>
    <div class="searchformwrapper">
      <form class="search" action="search.html" method="get">
        <input type="text" name="q" />
        <input type="submit" value="Search" />
        <input type="hidden" name="check_keywords" value="yes" />
        <input type="hidden" name="area" value="default" />
      </form>
    </div>
  </div>
</div><div class="sidebar-links" role="navigation" aria-label="main navigation">
  
    <div class="sidebar-group">
      <p class="caption">
        <span class="caption-text"><a href="index.html#table-of-contents">table of contents</a></span>
      </p>
      <ul class="current">
        
          <li class="toctree-l1 current">
            
              <a href="#" class="reference internal current">Creating learning applications</a>
            

            
              <ul>
                
                  <li class="toctree-l2"><a href="#installation" class="reference internal">Installation</a></li>
                
                  <li class="toctree-l2"><a href="#usage-in-rmarkdown-based-applications-learnr-apps" class="reference internal">Usage in RMarkdown-based applications (learnr apps)</a></li>
                
                  <li class="toctree-l2"><a href="#usage-in-shiny-applications" class="reference internal">Usage in Shiny applications</a></li>
                
                  <li class="toctree-l2"><a href="#deployment" class="reference internal">Deployment</a></li>
                
              </ul>
            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="serversetup.html" class="reference internal ">Hosting learning applications and the web API</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="trackingdata.html" class="reference internal ">Working with tracking data</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="devguide.html" class="reference internal ">Extending the MultiLA software platform</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="codebook_raw_data.html" class="reference internal ">Codebook for MultiLA web API raw tracking data</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="codebook_prepared_data.html" class="reference internal ">Codebook for MultiLA prepared tracking data</a>
            

            
          </li>

        
      </ul>
    </div>
  
</div>
        </sidebar>

      <page>
          <div class="body-header" role="navigation" aria-label="navigation">
  
  <ul class="breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
    
    <li>Creating learning applications</li>
  </ul>
  

  <ul class="page-nav">
  <li class="prev">
    <a href="index.html"
       title="previous chapter">← MultiLA software platform</a>
  </li>
  <li class="next">
    <a href="serversetup.html"
       title="next chapter">Hosting learning applications and the web API →</a>
  </li>
</ul>
  
</div>
<hr>
          <div class="content" role="main" v-pre>
            
  <section id="creating-learning-applications">
<span id="learning-apps"></span><h1>Creating learning applications<a class="headerlink" href="#creating-learning-applications" title="Link to this heading">¶</a></h1>
<p>The <em>MultiLA</em> software platform authoring tool is based on an extension for the R package <a class="reference external" href="https://rstudio.github.io/learnr/">learnr</a>. This extension is called <a class="reference external" href="https://github.com/IFAFMultiLA/learnrextra">learnrextra</a> and is so far not available on CRAN, but can be installed via GitHub (see instructions below). Writing learning applications or tutorials works the same as with learnr, but learnrextra provides some additional features which will be explained below.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>It’s also possible to use <a class="reference external" href="https://github.com/IFAFMultiLA/learnrextra">learnrextra</a> in standard Shiny applications and hence allow to enable the tracking features in those applications. See the “<a class="reference internal" href="#learnrextra-in-shiny"><span class="std std-ref">Usage in Shiny applications</span></a>” section below.</p>
</div>
<section id="installation">
<h2>Installation<a class="headerlink" href="#installation" title="Link to this heading">¶</a></h2>
<p><strong>Basic requirements:</strong> You should have R and RStudio installed.</p>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>You should also have a recent version of <a class="reference external" href="https://pandoc.org/">pandoc</a> installed on your system (e.g. via <cite>sudo apt install pandoc</cite> on Debian or Ubuntu based Linux systems).</p>
</div>
<ol class="arabic simple">
<li><p>(optional) Create a new RStudio project with <a class="reference external" href="https://rstudio.github.io/renv/">renv</a> for each new learning application.</p></li>
<li><p>Install the <a class="reference external" href="https://github.com/IFAFMultiLA/learnrextra">learnrextra</a> package from GitHub, e.g. via <code class="docutils literal notranslate"><span class="pre">renv::install(&quot;https://github.com/IFAFMultiLA/learnrextra&quot;)</span></code> or from a local folder if you’ve cloned the repository (<code class="docutils literal notranslate"><span class="pre">renv::install(&quot;&lt;LOCAL</span> <span class="pre">PATH</span> <span class="pre">TO</span> <span class="pre">REPOSITORY&gt;&quot;)</span></code>).</p></li>
<li><p>(optional) Install the <a class="reference external" href="https://pkgs.rstudio.com/gradethis/">gradethis</a> package from GitHub, e.g. via <code class="docutils literal notranslate"><span class="pre">renv::install(&quot;https://github.com/rstudio/gradethis&quot;)</span></code> if you want to use code exercises and check them.</p></li>
<li><p>Restart RStudio (unfortunately this is needed by RStudio in order to load the installed templates required for the next step).</p></li>
</ol>
<p>You can now either create an RMarkdown-based application (a learnr app) or a Shiny-based application. For the former, do the following:</p>
<ol class="arabic simple">
<li><p>Create an RMarkdown document via <em>File &gt; New file &gt; RMarkdown document …</em> and select <em>From template &gt; Interactive tutorial (learnrextra)</em>.</p></li>
<li><p>Optionally update the language in the markdown <em>frontmatter</em> (header).</p></li>
<li><p>Check that generating (“knitting”) the document works by clicking “Run document”.</p></li>
</ol>
<p>If you want to create a Shiny-based application, read on in the “<a class="reference internal" href="#learnrextra-in-shiny"><span class="std std-ref">Usage in Shiny applications</span></a>” section.</p>
</section>
<section id="usage-in-rmarkdown-based-applications-learnr-apps">
<h2>Usage in RMarkdown-based applications (learnr apps)<a class="headerlink" href="#usage-in-rmarkdown-based-applications-learnr-apps" title="Link to this heading">¶</a></h2>
<p>You can now create your learning application in RMarkdown syntax. See the <a class="reference external" href="https://rstudio.github.io/learnr/">learnr</a> documentation for how to do that. You will learn there how to add text, figures, interactive illustrations, equations, code exercises, quiz questions, videos and more to your learning application.</p>
<p>You can find a minimal RMarkdown-based learning application for illustrative purposes in the <a class="reference external" href="https://github.com/IFAFMultiLA/learnrextra_testapp">learnrextra_testapp</a> repository.</p>
<section id="frontmatter-options">
<span id="learning-apps-frontmatter"></span><h3>Frontmatter options<a class="headerlink" href="#frontmatter-options" title="Link to this heading">¶</a></h3>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><em>Frontmatter</em> is the initial header block in Markdown documents denoted by beginning and trailing separator lines “<code class="docutils literal notranslate"><span class="pre">---</span></code>“.</p>
</div>
<p>For a learnrextra based learning application, the “output” option in the frontmatter of your RMarkdown should be set to <code class="docutils literal notranslate"><span class="pre">learnrextra::tutorial</span></code> (as it is set by default in the template):</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="c1"># ...</span>
<span class="nt">output</span><span class="p">:</span>
<span class="w">    </span><span class="nt">learnrextra::tutorial</span><span class="p">:</span>
<span class="w">        </span><span class="nt">language</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">en</span>
<span class="w">        </span><span class="nt">apiserver</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">http://localhost:8000/</span>
<span class="c1"># ...</span>
</pre></div>
</div>
<p>There are two options for this output type:</p>
<ul class="simple">
<li><p>Option <code class="docutils literal notranslate"><span class="pre">language</span></code> is an ISO-639 two-letter language code for the language used in the learning application and sets the language of the learning application interface. <code class="docutils literal notranslate"><span class="pre">learnr</span></code> supports many languages but <code class="docutils literal notranslate"><span class="pre">learnrextra</span></code> at the moment only supports English (<code class="docutils literal notranslate"><span class="pre">en</span></code>) and German (<code class="docutils literal notranslate"><span class="pre">de</span></code>). The elements of the interface that are provided by <code class="docutils literal notranslate"><span class="pre">learnrextra</span></code> will be in English by default, if you use any other language than German.</p></li>
<li><p>Option <code class="docutils literal notranslate"><span class="pre">apiserver</span></code> is the endpoint of the web API used to collect the tracking data; by default it’s set to send to port 8000 on localhost, e.g. on a local development machine. The following chapter will explain more about this.</p></li>
</ul>
<p>Furthermore you should add the follwing line to the initial R <em>setup</em> code chunk (as it is also set by default in the template):</p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="n">rmarkdown</span><span class="o">::</span><span class="nf">find_pandoc</span><span class="p">(</span><span class="n">cache</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">FALSE</span><span class="p">)</span>
</pre></div>
</div>
<p>This makes sure that when deploying your app on a server, the server’s installation of pandoc will be used for compiling your app instead of the outdated version that is provided internally by Shiny.</p>
</section>
<section id="dynamic-summary-syntax">
<h3>Dynamic summary syntax<a class="headerlink" href="#dynamic-summary-syntax" title="Link to this heading">¶</a></h3>
<p>An advanced feature of learnrextra is the <em>dynamic summary panel:</em> While working through the learning application, summarized content can be shown dynamically on a panel in the right side, depending on the learning progress. The summary pnael is shown in the following screenshot on the right side:</p>
<a class="reference internal image-reference" href="_images/learningapp_summary.png"><img alt="_images/learningapp_summary.png" class="align-center" src="_images/learningapp_summary.png" style="width: 100%;" /></a>
<p>To add dynamic summary content in your learning application, insert a “fenced div” block named <code class="docutils literal notranslate"><span class="pre">summary</span></code> at the position where the summary should be shown when the user has scrolled past it:</p>
<div class="highlight-markdown notranslate"><div class="highlight"><pre><span></span>::: summary

<span class="gu">#### Example headline</span>

Initial content underneath this headline.

:::
</pre></div>
</div>
<p>It’s important to structure summary content with level-4 headlines (<code class="docutils literal notranslate"><span class="pre">####</span> <span class="pre">(headline)</span></code>). If you place another <code class="docutils literal notranslate"><span class="pre">summary</span></code> block somewhere in your document with the same headline, new content will automatically be added underneath that headline:</p>
<div class="highlight-markdown notranslate"><div class="highlight"><pre><span></span>::: summary

<span class="gu">#### Example headline</span>

Additional content underneath this headline.

:::
</pre></div>
</div>
<p>If you add <code class="docutils literal notranslate"><span class="pre">{.replace}</span></code> behind the headline, this will cause to completely replace the content underneath that headline:</p>
<div class="highlight-markdown notranslate"><div class="highlight"><pre><span></span>::: summary

<span class="gu">#### Example headline {.replace}</span>

Replaced content underneath this headline.

:::
</pre></div>
</div>
</section>
<section id="data-protection-and-tracking-consent-notes">
<span id="embed-dataprotection-trackingconsent"></span><h3>Data protection and tracking consent notes<a class="headerlink" href="#data-protection-and-tracking-consent-notes" title="Link to this heading">¶</a></h3>
<p>You should embed the relevant text for the data protection and tracking consent notes in your learning application. To do so, place them within a <code class="docutils literal notranslate"><span class="pre">tracking_consent_text</span></code> and <code class="docutils literal notranslate"><span class="pre">data_protection_text</span></code> block, respectively. You can use any Markdown or HTML formatting.</p>
<div class="highlight-markdown notranslate"><div class="highlight"><pre><span></span>::: tracking_consent_text

&lt;place tracking consent notes here&gt;

:::

::: data_protection_text

&lt;place data protection notes here&gt;

:::
</pre></div>
</div>
</section>
</section>
<section id="usage-in-shiny-applications">
<span id="learnrextra-in-shiny"></span><h2>Usage in Shiny applications<a class="headerlink" href="#usage-in-shiny-applications" title="Link to this heading">¶</a></h2>
<p>If you want to develop a learning application using Shiny instead of RMarkdown, you can also use the <a class="reference external" href="https://github.com/IFAFMultiLA/learnrextra">learnrextra</a> package to enable user interaction tracking. You need to load the library in your <code class="docutils literal notranslate"><span class="pre">app.R</span></code> file, set the URL for the API server and optionally set the language:</p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="nf">library</span><span class="p">(</span><span class="n">learnrextra</span><span class="p">)</span>

<span class="nf">options</span><span class="p">(</span><span class="s">&quot;learnrextra.apiserver&quot;</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;http://localhost:8000&quot;</span><span class="p">)</span>
<span class="nf">options</span><span class="p">(</span><span class="s">&quot;learnrextra.language&quot;</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;en&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Then, simply use the <code class="docutils literal notranslate"><span class="pre">use_learnrextra()</span></code> library in your UI code to enable it. You can optionally pass paths to HTML snippets for the tracking consent and data protection notes via the <code class="docutils literal notranslate"><span class="pre">consentmodal</span></code> and <code class="docutils literal notranslate"><span class="pre">dataprotectmodal</span></code> parameters. These paths must be relative to your Shiny project path. See <a class="reference external" href="https://github.com/IFAFMultiLA/learnrextra_testapp_shiny/blob/main/www/trackingconsent.html">trackingconsent.html</a> and <a class="reference external" href="https://github.com/IFAFMultiLA/learnrextra_testapp_shiny/blob/main/www/dataprotect.html">dataprotect.html</a> for how the HTML snippets should be structured. In order to show a field with the link to the data protection notes and optional login information, you should use the <code class="docutils literal notranslate"><span class="pre">info_display()</span></code> function in your UI code. An example for the UI code looks like this:</p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="n">ui</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">fluidPage</span><span class="p">(</span>
<span class="w">    </span><span class="c1"># set up learnrextra; optionally point to HTML files with tracking consent and data protection notes</span>
<span class="w">    </span><span class="nf">use_learnrextra</span><span class="p">(</span><span class="n">consentmodal</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;www/trackingconsent.html&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">dataprotectmodal</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;www/dataprotect.html&quot;</span><span class="p">),</span>

<span class="w">    </span><span class="nf">fluidRow</span><span class="p">(</span>
<span class="w">        </span><span class="nf">column</span><span class="p">(</span>
<span class="w">            </span><span class="n">width</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">12</span><span class="p">,</span>
<span class="w">            </span><span class="nf">info_display</span><span class="p">()</span><span class="w">   </span><span class="c1"># show link for data protection and optional login information</span>
<span class="w">        </span><span class="p">)</span>
<span class="w">    </span><span class="p">),</span>

<span class="w">    </span><span class="c1"># ... all other UI code</span>
<span class="p">)</span>
</pre></div>
</div>
<p>See also the <a class="reference external" href="https://github.com/IFAFMultiLA/learnrextra_testapp_shiny">learnrextra_testapp_shiny</a> repository for a minimal Shiny application with learnrextra.</p>
</section>
<section id="deployment">
<h2>Deployment<a class="headerlink" href="#deployment" title="Link to this heading">¶</a></h2>
<p>The learning applications can be hosted on any R <a class="reference external" href="https://shiny.posit.co/">Shiny</a> server. The next chapter on “<a class="reference internal" href="serversetup.html"><span class="doc">Hosting learning applications and the web API</span></a>” will give more information on deploying learning applications within the MultiLA software platform.</p>
</section>
</section>


          </div>
          <div class="page-nav">
            <div class="inner"><ul class="page-nav">
  <li class="prev">
    <a href="index.html"
       title="previous chapter">← MultiLA software platform</a>
  </li>
  <li class="next">
    <a href="serversetup.html"
       title="next chapter">Hosting learning applications and the web API →</a>
  </li>
</ul><div class="footer" role="contentinfo">
      &#169; Copyright 2024, Markus Konrad.
    <br>
    Created using <a href="http://sphinx-doc.org/">Sphinx</a> 7.2.6 with <a href="https://github.com/schettino72/sphinx_press_theme">Press Theme</a> 0.8.0.
</div>
            </div>
          </div>
      </page>
    </div></div>
    
    
  </body>
</html>